<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Haihv.Elis.Tools.App.Controls.ShareConnectionPage"
             Title="LÆ°u tá»‡p káº¿t ná»‘i">

    <Grid>
        <!-- Background overlay -->
        <BoxView BackgroundColor="Black"
                 Opacity="0.5"/>
        <!-- Main dialog -->
        <Border BackgroundColor="{AppThemeBinding Light=White, Dark=#2B2B2B}"
                Stroke="{AppThemeBinding Light=LightGray, Dark=Gray}"
                StrokeThickness="1"
                WidthRequest="450"
                HorizontalOptions="Center"
                VerticalOptions="Center">

            <Border.StrokeShape>
                <RoundRectangle CornerRadius="10"/>
            </Border.StrokeShape>

            <ScrollView>
                <VerticalStackLayout Padding="20"
                                     Spacing="15">
                    <!-- Title -->
                    <Label Text="ðŸ’¾ LÆ°u tá»‡p káº¿t ná»‘i"
                           FontSize="18"
                           FontAttributes="Bold"
                           HorizontalOptions="Center"/>
                    <!-- Pháº§n táº¡o máº­t kháº©u -->
                    <StackLayout x:Name="PasswordLayout"
                                 Spacing="10"
                                 IsVisible="True">
                        <Label Text="Máº­t kháº©u mÃ£ hÃ³a:"
                               FontSize="14"
                               FontAttributes="Bold"/>
                        <!-- Entry máº­t kháº©u vá»›i cÃ¡c nÃºt chá»©c nÄƒng -->
                        <Grid ColumnDefinitions="*,Auto,Auto,Auto"
                              ColumnSpacing="5"
                              VerticalOptions="Center">
                            <Entry x:Name="PasswordEntry"
                                   Grid.Column="0"
                                   IsPassword="True"
                                   FontFamily="Consolas"
                                   Placeholder="Nháº­p máº­t kháº©u hoáº·c táº¡o ngáº«u nhiÃªn"
                                   VerticalOptions="Center"
                                   MinimumHeightRequest="40"/>

                            <!-- NÃºt hiá»ƒn thá»‹/áº©n máº­t kháº©u -->
                            <Button x:Name="TogglePasswordBtn"
                                    Grid.Column="1"
                                    BackgroundColor="Transparent"
                                    BorderColor="LightGray"
                                    BorderWidth="1"
                                    WidthRequest="36"
                                    HeightRequest="36"
                                    CornerRadius="4"
                                    Text="ðŸ‘"
                                    FontSize="16"
                                    Padding="0"
                                    Clicked="TogglePasswordBtn_Clicked"
                                    VerticalOptions="Center"
                                    ToolTipProperties.Text="Hiá»‡n/áº©n máº­t kháº©u"/>

                            <!-- NÃºt táº¡o máº­t kháº©u ngáº«u nhiÃªn -->
                            <Button x:Name="GeneratePasswordBtn"
                                    Grid.Column="2"
                                    BackgroundColor="Transparent"
                                    BorderColor="DodgerBlue"
                                    BorderWidth="1"
                                    WidthRequest="36"
                                    HeightRequest="36"
                                    CornerRadius="4"
                                    Text="ðŸŽ²"
                                    FontSize="16"
                                    Padding="0"
                                    Clicked="GeneratePasswordBtn_Clicked"
                                    VerticalOptions="Center"
                                    ToolTipProperties.Text="Táº¡o máº­t kháº©u ngáº«u nhiÃªn máº¡nh"/>

                            <!-- NÃºt copy máº­t kháº©u -->
                            <Button x:Name="CopyPasswordBtn"
                                    Grid.Column="3"
                                    BackgroundColor="Transparent"
                                    BorderColor="LightGray"
                                    BorderWidth="1"
                                    WidthRequest="36"
                                    HeightRequest="36"
                                    CornerRadius="4"
                                    Text="ðŸ“‹"
                                    FontSize="16"
                                    Padding="0"
                                    Clicked="CopyPasswordBtn_Clicked"
                                    VerticalOptions="Center"
                                    ToolTipProperties.Text="Sao chÃ©p máº­t kháº©u vÃ o clipboard"/>
                        </Grid>

                        <!-- Hiá»ƒn thá»‹ Ä‘á»™ máº¡nh máº­t kháº©u -->
                        <StackLayout x:Name="PasswordStrengthLayout"
                                     Orientation="Horizontal"
                                     Spacing="10"
                                     IsVisible="False">
                            <Label Text="Äá»™ máº¡nh:"
                                   FontSize="12"/>
                            <Label x:Name="PasswordStrengthLabel"
                                   FontSize="12"
                                   FontAttributes="Bold"/>
                            <ProgressBar x:Name="PasswordStrengthBar"
                                         WidthRequest="100"
                                         HeightRequest="5"
                                         VerticalOptions="Center"/>
                        </StackLayout>
                    </StackLayout>

                    <!-- Káº¿t quáº£ -->
                    <StackLayout x:Name="ResultLayout"
                                 Spacing="10"
                                 IsVisible="False">
                        <Label Text="âœ… LÆ°u tá»‡p thÃ nh cÃ´ng!"
                               FontSize="16"
                               FontAttributes="Bold"
                               TextColor="Green"
                               HorizontalOptions="Center"/>

                        <Border BackgroundColor="LightGray"
                                Padding="10"
                                Stroke="Gray"
                                StrokeThickness="1">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="5"/>
                            </Border.StrokeShape>
                            <StackLayout Spacing="5">
                                <Label Text="Vá»‹ trÃ­ tá»‡p:"
                                       FontAttributes="Bold"/>
                                <Label x:Name="FilePathLabel"
                                       FontFamily="Consolas"
                                       TextColor="Blue"/>
                            </StackLayout>
                        </Border>

                        <Grid ColumnDefinitions="*,*"
                              ColumnSpacing="10">
                            <Button x:Name="OpenLocationBtn"
                                    Grid.Column="0"
                                    Text="ðŸ“ Má»Ÿ thÆ° má»¥c"
                                    Clicked="OpenLocationBtn_Clicked"/>
                            <Button x:Name="CloseBtn"
                                    Grid.Column="1"
                                    Text="ÄÃ³ng"
                                    Clicked="CloseBtn_Clicked"/>
                        </Grid>
                    </StackLayout>

                    <!-- Thá»i gian háº¿t háº¡n tá»‡p -->
                    <StackLayout x:Name="ExpiryLayout"
                                 Spacing="10">
                        <Label Text="Thá»i gian háº¿t háº¡n cá»§a tá»‡p:"
                               FontSize="14"
                               FontAttributes="Bold"/>

                        <Grid ColumnDefinitions="Auto,Auto,Auto,Auto"
                              ColumnSpacing="5">
                            <!-- DatePicker -->
                            <DatePicker x:Name="ExpiryDatePicker"
                                        Grid.Column="0"
                                        Format="dd/MM/yyyy"
                                        VerticalOptions="Center"/>

                            <!-- NÃºt reset vá» máº·c Ä‘á»‹nh -->
                            <Button x:Name="ResetExpiryBtn"
                                    Grid.Column="1"
                                    Text="ðŸ”„"
                                    BackgroundColor="Transparent"
                                    BorderColor="LightGray"
                                    BorderWidth="1"
                                    WidthRequest="36"
                                    HeightRequest="36"
                                    CornerRadius="4"
                                    FontSize="14"
                                    Padding="0"
                                    Clicked="ResetExpiryBtn_Clicked"
                                    VerticalOptions="Center"
                                    ToolTipProperties.Text="Äáº·t láº¡i thá»i gian háº¿t háº¡n vá» máº·c Ä‘á»‹nh (1 ngÃ y)"/>
                            <!-- ThÃ´ng tin vá» thá»i gian háº¿t háº¡n -->

                            <Label Text="â„¹ï¸"
                                        Grid.Column="2"
                                   FontSize="12"
                                   VerticalOptions="Center"/>
                            <Label x:Name="ExpiryInfoLabel"
                                        Grid.Column="3"
                                   Text="Tá»‡p sáº½ háº¿t háº¡n sau 1 ngÃ y (máº·c Ä‘á»‹nh)"
                                   FontSize="12"
                                   TextColor="Gray"
                                   VerticalOptions="Center"/>
                        </Grid>

                    </StackLayout>
                    <!-- TÃ¹y chá»n khÃ´ng mÃ£ hÃ³a - Chuyá»ƒn xuá»‘ng dÆ°á»›i -->
                    <StackLayout x:Name="EncryptionOptionsLayout"
                                 Spacing="10">
                        <StackLayout Orientation="Horizontal"
                                     Spacing="10">
                            <CheckBox x:Name="NoEncryptCheckBox"
                                      IsChecked="False"/>
                            <Label Text="Gá»­i tá»‡p khÃ´ng mÃ£ hÃ³a"
                                   VerticalOptions="Center"/>
                        </StackLayout>
                    </StackLayout>

                    <!-- Buttons -->
                    <Grid x:Name="ButtonsLayout"
                          ColumnDefinitions="*,*"
                          ColumnSpacing="10"
                          Margin="0,10,0,0">
                        <Button x:Name="CancelBtn"
                                Grid.Column="0"
                                Text="âŒ Há»§y"
                                BackgroundColor="LightGray"
                                TextColor="Black"
                                Clicked="CancelBtn_Clicked"/>

                        <Button x:Name="SaveBtn"
                                Grid.Column="1"
                                Text="ðŸ’¾ LÆ°u tá»‡p"
                                BackgroundColor="DodgerBlue"
                                TextColor="White"
                                ToolTipProperties.Text="LÆ°u tá»‡p vÃ o thÆ° má»¥c Download"
                                Clicked="SaveBtn_Clicked"/>
                    </Grid>
                </VerticalStackLayout>
            </ScrollView>
        </Border>
    </Grid>
</ContentPage>
